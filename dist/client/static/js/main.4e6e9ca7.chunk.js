(this["webpackJsonpmedia-player-gui"]=this["webpackJsonpmedia-player-gui"]||[]).push([[0],{360:function(e,n,t){e.exports=t(543)},365:function(e,n,t){},543:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),c=t(31),o=t.n(c),i=(t(365),t(16)),u=t(15),l=t(346),s=Object(l.a)({palette:{type:"dark",primary:{light:"#1d2124",main:"#ffffff",dark:"#fff",text:"#fff",contrastText:"#090909"},secondary:{light:"#0C0C0C",main:"#141414",dark:"#141414",text:"#fff",contrastText:"#ffffff"}}}),d=t(602),m=t(141),f=t(8),p=t(83),b=t(137),h=t(38),v=t(13),E=t(35),g=t(212),y=t(223),O=t(335),j=t.n(O);function w(){var e=Object(i.a)(["\n  cursor: pointer;\n"]);return w=function(){return e},e}var S=Object(u.b)(j.a)(w()),C=function(e){var n=e.onDialogOpen,t=e.data;return n&&"function"===typeof n?r.a.createElement(S,{onClick:function(){n(t)}},JSON.stringify(t)):null},k=t(132),x=t.n(k),R=function(e){var n=e.getValue,t=k.duration(n());return t.asHours()>1?Math.floor(t.asHours())+k.utc(t.asMilliseconds()).format(":mm:ss"):k.utc(t.asMilliseconds()).format("mm:ss")},N=function(e){var n=e.getValue;return n()?r.a.createElement("img",{height:48,src:n(),alt:""}):null},T=t(575),P=t(576),_=t(577),U=t(578);function D(){var e=Object(i.a)(["\n  cursor: pointer;\n"]);return D=function(){return e},e}var L=u.b.div(D()),z=function(e){var n=e.data,t=e.selectedMedia,a=e.onSelectedMediaChange,c=t&&t.trackId===n.trackId;return r.a.createElement(L,{onClick:function(){return a(c?null:n)}},"feature-movie"===n.kind?r.a.createElement(T.a,null):r.a.createElement(P.a,null),c?r.a.createElement(_.a,null):r.a.createElement(U.a,null))},F=t(27),M="SET_SELECTED_MEDIA",B=function(e){return e.player.selectedMedia};function A(){var e=Object(i.a)(["\n  width: 100%;\n  height: 75vh;\n\n  .ag-cell-focus {\n    border: none !important;\n  }\n  .ag-icon {\n    color: "," !important;;\n  }\n\n  .ag-theme-material {\n    color: "," !important;\n  }\n"]);return A=function(){return e},e}var q=u.b.div(A(),(function(e){return e.theme.palette.secondary.main}),(function(e){return e.theme.palette.secondary.main})),I=function(e){var n=e.onGridReady,t=(e.onDialogOpen,Object(F.c)(B)),a=Object(F.b)(),c=[{headerName:"",field:"artworkUrl100",cellRenderer:"ImageCellRenderer",width:25},{headerName:"Artist",field:"artistName",width:80},{headerName:"Collection",field:"collectionName",width:80},{headerName:"Track",field:"trackName",width:80},{headerName:"Genre",field:"primaryGenreName",width:40},{headerName:"Duration",field:"trackTimeMillis",cellRenderer:"DurationFormatter",width:40},{cellRenderer:"PlayCellRenderer",cellRendererParams:{selectedMedia:t,onSelectedMediaChange:function(e){a(function(e){return{type:M,payload:e}}(e))}},width:40}];return r.a.createElement(q,{className:"ag-theme-material"},r.a.createElement(g.AgGridReact,{onGridReady:n,cacheBlockSize:200,gridOptions:{rowModelType:"serverSide"},columnDefs:c,defaultColDef:{resizable:!0,sortable:!0,filter:!0},frameworkComponents:{FullDetailsCellRenderer:C,DurationFormatter:R,ImageCellRenderer:N,PlayCellRenderer:z},cacheOverflowSize:2,maxConcurrentDatasourceRequests:1,maxBlocksInCache:10,animateRows:!0,modules:y.a}))},G=(t(611),t(612),t(579));t(581);function H(){var e=Object(i.a)(["\n  margin-inline-start: 10px;\n  height: 0;\n  z-index: 1;\n  .MuiFab-primary {\n    width: 60px;\n    height: 60px;\n  }\n"]);return H=function(){return e},e}Object(v.a)({},"Search as you type",G.a),u.b.div(H());var Y=t(605),V=function(e){return r.a.createElement(Y.a,Object.assign({variant:"outlined"},e))},K=t(580),W=t(585);function Q(){var e=Object(i.a)(["\n  margin-inline-start: 10px;\n  background-color: ",";\n  .MuiFab-root {\n    width: 60px;\n    height: 60px;\n  }\n"]);return Q=function(){return e},e}function J(){var e=Object(i.a)(["\n  display: flex;\n  width: 100%;\n"]);return J=function(){return e},e}var X=u.b.div(J()),$=Object(u.b)(K.a)(Q(),(function(e){return e.theme.palette.secondary.text})),Z=function(e){var n=e.options,t=e.keywords,a=e.onKeywordsChange,c=e.onSubmit,o=n["Search as you type"];return r.a.createElement(X,null,r.a.createElement(V,{fullWidth:!0,label:o?"Search as you type":"Search",onChange:function(e){a(e.target.value)},value:t,onKeyPress:o?null:function(e){return"Enter"===e.key?c():null}}),!o&&r.a.createElement($,{onClick:c},r.a.createElement(W.a,null)))},ee=t(609),ne=t(586),te=t(587),ae=t(347);function re(){var e=Object(i.a)(["\n\n.MuiPaper-root {\n  background-color: ",";\n}\n"]);return re=function(){return e},e}function ce(){var e=Object(i.a)(["\n  margin: 4rem auto;\n  font-family: ",";\n  color: ",";\n  cursor: default;\n"]);return ce=function(){return e},e}var oe=u.b.div(ce(),(function(e){return e.theme.typography.fontFamily}),(function(e){return e.theme.palette.primary.main})),ie=Object(u.b)(ee.a)(re(),(function(e){return e.theme.palette.secondary.light})),ue=function(e){var n=e.children,t=e.open,a=e.onDialogClose;return r.a.createElement(ie,{fullScreen:!0,open:t,onClose:a},r.a.createElement(ne.a,null,r.a.createElement(te.a,{edge:"start",onClick:a,"aria-label":"close"},r.a.createElement(ae.a,{style:{fill:"white"}}))),r.a.createElement(oe,null,n))},le=t(60),se=t(44),de=t(26),me=t.n(de),fe=t(47),pe=t.n(fe),be=new(function(){function e(){Object(le.a)(this,e)}return Object(se.a)(e,[{key:"search",value:function(e){return pe.a.get("".concat("/api","/search"),{params:e})}},{key:"deleteOneOfMyTopSearches",value:function(e){return me.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",pe.a.delete("".concat("/api","/top"),{params:{keywords:e}}));case 1:case"end":return n.stop()}}))}}]),e}()),he=Object.freeze(be),ve=function(){function e(n,t){Object(le.a)(this,e),this.mediaSearchService=n,this.keywords=t}return Object(se.a)(e,[{key:"destroy",value:function(){}}]),Object(se.a)(e,[{key:"getRows",value:function(e){var n=e.request,t=e.successCallback,a=e.failCallback,r=n.startRow,c=n.endRow-r;this.mediaSearchService.search({keywords:this.keywords,offset:r,limit:c}).then((function(e){var n=e.data;n?t(n.results,n.lastRow):a()}))}}]),e}(),Ee=t(606),ge=t(588),ye=t(589),Oe=t(590),je=t(591),we=t(592),Se=t(593),Ce=t(594),ke=t(595),xe={400:"Bad request",404:"Something went wrong (404)",401:"Authentication failed (401)",403:"Something went wrong, probably too many requests",409:"User already exists",500:"Internal server error"},Re="OPEN_SNACKBAR",Ne="CLOSE_SNACKBAR",Te=function(e){var n=e.statusCode,t=e.message;e.duration;return{type:Re,message:n?xe[n]:t}};function Pe(){var e=Object(i.a)(["\n  display: flex;\n  margin-inline-end: -1.5rem;\n  align-items: center;\n"]);return Pe=function(){return e},e}function _e(){var e=Object(i.a)(["\n  margin: 0 0.2rem;\n  background-color: ",";\n"]);return _e=function(){return e},e}function Ue(){var e=Object(i.a)(["\n  margin-top: -35px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  align-content: center;\n  z-index: 101;\n"]);return Ue=function(){return e},e}function De(){var e=Object(i.a)(["\n  display: ",";\n"]);return De=function(){return e},e}function Le(){var e=Object(i.a)(["\n  width: ",";\n  height: 0;\n"]);return Le=function(){return e},e}function ze(){var e=Object(i.a)(["\n  width: 100%;\n"]);return ze=function(){return e},e}var Fe=u.b.video(ze()),Me=u.b.div(Le(),(function(e){return e.isFullScreen?"70vw":"500px"})),Be=u.b.div(De(),(function(e){return e.hidden?"none":"block"})),Ae=u.b.div(Ue()),qe=Object(u.b)(K.a)(_e(),(function(e){return e.transparent?"transparent":null})),Ie=u.b.div(Pe()),Ge=function(e){var n=e.isMute,t=Object(F.c)(B),c=!!t&&"feature-movie"===t.kind,o=Object(F.b)(),i=Object(a.useState)(!1),u=Object(E.a)(i,2),l=u[0],s=u[1],d=Object(Ee.a)(r.a.createElement(Fe,{src:t&&t.previewUrl,autoPlay:!0})),m=Object(E.a)(d,3),f=m[0],p=m[1],b=m[2];Object(a.useEffect)((function(){n?b.mute():b.unmute()}),[n,b]),Object(a.useEffect)((function(){t||b.pause()}),[t,b]);var h=p.time,v=p.duration,g=p.paused,y=h/v*100,O=function(){o(Te({message:"This feature will be available soon"}))};return r.a.createElement(Me,{isFullScreen:l},r.a.createElement(Be,{hidden:!c},r.a.createElement(ge.a,{variant:"determinate",value:y,color:"primary"}),f),r.a.createElement(Ae,null,r.a.createElement("div",null),r.a.createElement(Ie,null,r.a.createElement(qe,{size:"small",color:"primary",onClick:O},r.a.createElement(ye.a,null)),r.a.createElement(qe,{size:"medium",color:"primary",onClick:function(){b.seek(p.time-5)}},r.a.createElement(Oe.a,null)),r.a.createElement(qe,{color:"primary",onClick:g?function(){b.play()}:function(){b.pause()}},g?r.a.createElement(U.a,null):r.a.createElement(je.a,null)),r.a.createElement(qe,{size:"medium",color:"primary",onClick:function(){b.seek(p.time+5)}},r.a.createElement(we.a,null)),r.a.createElement(qe,{size:"small",color:"primary",onClick:O},r.a.createElement(Se.a,null))),c&&r.a.createElement(qe,{color:"primary",size:"small",style:{alignSelf:"end"},onClick:function(){s(!l)}},l?r.a.createElement(Ce.a,null):r.a.createElement(ke.a,null))))},He=t(598),Ye=t(599),Ve=t(600),Ke=t(601),We=t(129),Qe=t.n(We),Je=function(e){var n=e.to,t=e.icon,a=e.onClick,c=Object(p.g)();return r.a.createElement(K.a,{onClick:function(e){n&&c.push(n),a&&a()}},t||n)},Xe=function(){var e=Object(a.useState)({width:window.innerWidth,height:window.innerHeight}),n=Object(E.a)(e,2),t=n[0],r=n[1];return Object(a.useEffect)((function(){var e=function(){r({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[t,r]),t},$e=t(596),Ze=t(583),en=t(610),nn=t(597),tn=function(e){return!!e.auth.token},an=function(e){var n=e.auth;return e.user.map[n.profile.username]||n.profile},rn=function(e){return e.auth.pending},cn=function(e){return an(e).topSearches},on="".concat("/api","/user"),un=new(function(){function e(){Object(le.a)(this,e)}return Object(se.a)(e,[{key:"find",value:function(e){return me.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",pe.a.get(on,{params:e}));case 1:case"end":return n.stop()}}))}},{key:"findOne",value:function(e){return me.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",pe.a.get("".concat(on,"/").concat(e)));case 1:case"end":return n.stop()}}))}},{key:"update",value:function(e,n){return me.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",pe.a.put("".concat(on,"/").concat(e),n));case 1:case"end":return t.stop()}}))}},{key:"deleteOne",value:function(e){return me.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",pe.a.delete("".concat(on,"/").concat(e)));case 1:case"end":return n.stop()}}))}},{key:"delete",value:function(e){return me.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",pe.a.delete(on,{data:e}));case 1:case"end":return n.stop()}}))}},{key:"create",value:function(e){return me.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",pe.a.post(on,e));case 1:case"end":return n.stop()}}))}}]),e}()),ln=Object.freeze(un),sn="FETCH_USERS_SUCCESS",dn="UPDATE_USER_SUCCESS",mn="CREATE_USER_REQUEST",fn="CREATE_USER_SUCCESS",pn="CREATE_USER_ERROR",bn="DELETE_ONE_USER_SUCCESS",hn="DELETE_USERS_SUCCESS",vn="FETCH_ONE_USER",En="DELETE_ONE_TOP_SEARCH",gn=function(e){return function(n){var t;return me.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"FETCH_USERS_REQUEST"}),a.prev=1,a.next=4,me.a.awrap(ln.find(e));case 4:t=a.sent,n({type:sn,payload:t.data}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),n({type:"FETCH_USERS_ERROR"}),n(Te(a.t0));case 12:case"end":return a.stop()}}),null,null,[[1,8]])}},yn=function(e){return function(n){var t;return me.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,me.a.awrap(ln.findOne(e));case 3:t=a.sent,n({type:vn,payload:t.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n(Te(a.t0));case 10:case"end":return a.stop()}}),null,null,[[0,7]])}};function On(){var e=Object(i.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  max-width: 350px;\n"]);return On=function(){return e},e}var jn=u.b.div(On()),wn=function(e){var n=e.onKeywordsChange,t=Object(a.useRef)(),c=r.a.useState(!1),o=Object(E.a)(c,2),i=o[0],u=o[1],l=Object(F.c)(an),s=Object(F.c)(cn),d=Object(F.b)(),m=function(){d(yn(l.username)),u(!i),s&&0!==Object.entries(s).length||d(Te({message:"No search history"}))},f=function(e){d(function(e,n){return function(t){var a;return me.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,me.a.awrap(he.deleteOneOfMyTopSearches(n));case 3:a=r.sent,t({type:En,payload:{topSearches:a.data,username:e}}),t(yn(e)),t(Te({message:"".concat(n," removed")})),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),t(Te(r.t0));case 12:case"end":return r.stop()}}),null,null,[[0,9]])}}(l.username,e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{onClick:m,buttonRef:t},r.a.createElement($e.a,null)),r.a.createElement(Ze.a,{open:i,onClick:m,anchorEl:t.current,placement:"right-end"},r.a.createElement(Qe.a,{handle:".handle",defaultPosition:{x:0,y:0}},r.a.createElement(jn,{className:"handle"},s&&Object.entries(s).map((function(e){var t=Object(E.a)(e,2),a=t[0],c=t[1];return r.a.createElement(nn.a,{badgeContent:c||"0",color:"secondary"},r.a.createElement(en.a,{onClick:function(){n(a),u(!0)},label:a,onDelete:function(){return f(a)}}))}))))))},Sn=function(e){return e&&"string"===typeof e&&e.length>3&&Number(e.slice(e.length-3,e.length))},Cn=new(function(){function e(){Object(le.a)(this,e)}return Object(se.a)(e,[{key:"login",value:function(e,n){var t;return me.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,me.a.awrap(pe.a.post("".concat("/api","/login"),{username:e,password:n}));case 3:return t=a.sent,pe.a.defaults.headers.common.Authorization="Bearer ".concat(t.data.token),a.abrupt("return",t);case 8:throw a.prev=8,a.t0=a.catch(0),pe.a.defaults.headers.common.Authorization=null,a.t0.statusCode=Sn(a.t0.message),a.t0;case 13:case"end":return a.stop()}}),null,null,[[0,8]])}},{key:"signUp",value:function(e,n,t,a,r){var c;return me.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,me.a.awrap(pe.a.post("".concat("/api","/signup"),{username:e,password:n,retypePassword:t,firstName:a,lastName:r}));case 3:return c=o.sent,pe.a.defaults.headers.common.Authorization="Bearer ".concat(c.data.token),o.abrupt("return",c);case 8:throw o.prev=8,o.t0=o.catch(0),pe.a.defaults.headers.common.Authorization=null,o.t0.statusCode=Sn(o.t0.message),o.t0;case 13:case"end":return o.stop()}}),null,null,[[0,8]])}},{key:"getPersistToken",value:function(){return localStorage.getItem("authSnapshot")}}]),e}()),kn=Object.freeze(Cn),xn="LOGIN_REQUEST",Rn="LOGIN_SUCCESS",Nn="LOGIN_ERROR",Tn="SIGNUP_REQUEST",Pn="SIGNUP_SUCCESS",_n="SIGNUP_ERROR",Un="LOGOUT";function Dn(){var e=Object(i.a)(["\n  position: fixed;\n  z-index: 100;\n"]);return Dn=function(){return e},e}function Ln(){var e=Object(i.a)(["\n  button {\n    margin-top: -5rem;\n    margin-right: 0.5rem;\n  }\n"]);return Ln=function(){return e},e}function zn(){var e=Object(i.a)(["\n  display: flex;\n  margin-bottom: 1rem;\n"]);return zn=function(){return e},e}var Fn=u.b.div(zn()),Mn=u.b.div(Ln()),Bn=u.b.div(Dn()),An=function(){var e=Object(F.c)(B),n=Object(a.useState)(!1),t=Object(E.a)(n,2),c=t[0],o=t[1],i=Object(a.useState)("Lion's King"),u=Object(E.a)(i,2),l=u[0],s=u[1],d=function(e,n){var t=Object(a.useState)(e),r=Object(E.a)(t,2),c=r[0],o=r[1];return Object(a.useEffect)((function(){var t=setTimeout((function(){o(e)}),n);return function(){clearTimeout(t)}}),[e]),c}(l,500),m=Object(a.useState)(null),f=Object(E.a)(m,2),p=f[0],b=f[1],h=Object(a.useState)(null),g=Object(E.a)(h,2),y=g[0],O=g[1],j=Object(a.useState)(Object(v.a)({},"Search as you type",!0)),w=Object(E.a)(j,2),S=w[0],C=(w[1],S["Search as you type"]),k=Object(F.b)(),x=Xe().width,R=Object(a.useCallback)((function(){p&&d&&p.setServerSideDatasource(new ve(he,d))}),[d,p]);Object(a.useEffect)((function(){C&&R()}),[d,R,C]),Object(a.useEffect)((function(){k(gn())}),[k]),Object(a.useEffect)((function(){p&&(p.sizeColumnsToFit(),setTimeout((function(){return p.sizeColumnsToFit()}),500))}),[p,e,x]);var N=function(e){return s(e)};return r.a.createElement("div",null,r.a.createElement(Mn,null,r.a.createElement(Je,{to:"/users",icon:r.a.createElement(He.a,null)}),r.a.createElement(Je,{icon:r.a.createElement(Ye.a,null),onClick:function(){k({type:Un})}}),r.a.createElement(Je,{icon:c?r.a.createElement(Ve.a,null):r.a.createElement(Ke.a,null),onClick:function(){o(!c)}}),r.a.createElement(wn,{onKeywordsChange:N})),r.a.createElement(Bn,null,r.a.createElement(Qe.a,{handle:".handle",defaultPosition:{x:x-1400,y:-40}},r.a.createElement("div",{className:"handle"},r.a.createElement(Ge,{isMute:c})))),r.a.createElement(Fn,null,r.a.createElement(Z,{onKeywordsChange:N,keywords:l,onSubmit:R,options:S})),r.a.createElement(I,{onGridReady:function(e){var n=e.api;return b(n)},onDialogOpen:function(e){return O({open:!0,content:r.a.createElement(Ge,{media:e})})}}),r.a.createElement(ue,{dialog:y,onDialogClose:function(){return O(null)}},y&&y.content))},qn=t(603),In=t(604);function Gn(){var e=Object(i.a)(["\n  cursor: pointer;\n"]);return Gn=function(){return e},e}var Hn=u.b.div(Gn()),Yn=function(e){var n=e.data,t=e.onClick,a=e.api;return r.a.createElement(Hn,{onClick:function(){return t({username:n.username,api:a})}},"X")},Vn=function(e){return(0,e.getValue)()||"******"},Kn=function(e){var n=e.getValue;return x()(n()).format("MM/DD/YYYY HH:mm")},Wn=function(e){var n=e.user;return n.ids.map((function(e){return n.map[e]}))},Qn=function(e){return 0===e.user.ids.length},Jn=function(e){return e.user.pending},Xn=t(340),$n=t.n(Xn);function Zn(){var e=Object(i.a)(["\n  background: ",";\n  color: ",";\n  min-width: 10rem !important;\n  font-size: 1.3rem;\n  font-weight: ",";\n  ",";\n  ","\n"]);return Zn=function(){return e},e}var et,nt,tt,at=Object(u.b)($n.a)(Zn(),(function(e){return e.theme.palette.secondary.dark}),(function(e){var n=e.secondary,t=e.theme;return n?"#6b6b6b":t.palette.primary.text}),(function(e){return e.secondary?"normal":"bold"}),(function(e){return e.secondary&&"border: 1px solid #c4c4c4"}),(function(e){return e.fullWidth?"width: 100%;":null})),rt=t(345),ct=t(66),ot="email",it=(et={},Object(v.a)(et,"firstName","First Name"),Object(v.a)(et,"lastName","Last Name"),Object(v.a)(et,ot,"Email"),Object(v.a)(et,"password","Password"),Object(v.a)(et,"retypePassword","Retype password"),et),ut=ct.object().shape((nt={},Object(v.a)(nt,"firstName",ct.string().max(35,"Too long")),Object(v.a)(nt,"lastName",ct.string().max(35,"Too long")),Object(v.a)(nt,ot,ct.string().email("Email not valid").max(35,"Too long").required("Required")),Object(v.a)(nt,"password",ct.string().min(4,"Too short").max(12,"Too long").required("Required")),Object(v.a)(nt,"retypePassword",ct.string().oneOf([ct.ref("password"),null],"Passwords do not math").required("Retype password")),nt)),lt=ct.object().shape((tt={},Object(v.a)(tt,ot,ct.string().email("Email not valid").max(35,"Too long").required("Required")),Object(v.a)(tt,"password",ct.string().min(4,"Too short").max(12,"Too long").required("Required")),tt));function st(){var e=Object(i.a)(["\n  margin: auto;\n  padding: 1rem;\n  width: fit-content;\n  display: flex;\n  flex-direction: ",";\n"]);return st=function(){return e},e}function dt(){var e=Object(i.a)(["\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 10;\n  display: flex;\n  position: absolute;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(0, 0, 0, 0.3);\n  \n"]);return dt=function(){return e},e}function mt(){var e=Object(i.a)(["\n  display: inline-block;\n  position: relative;\n"]);return mt=function(){return e},e}function ft(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: ",";\n  "," {\n    flex-direction: column;\n  }\n"]);return ft=function(){return e},e}function pt(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: ",";\n  justify-content: space-between;\n"]);return pt=function(){return e},e}var bt,ht=u.b.div(pt(),(function(e){return e.direction||"row"})),vt=u.b.div(ft(),(function(e){return"column"===e.direction?"row":"column"}),(function(e){return e.theme.breakpoints.down("md")})),Et=u.b.div(mt()),gt=u.b.div(dt()),yt=u.b.form(st(),(function(e){return e.flexDirection||"row"})),Ot=function(e){var n=e.successContent,t=e.onSecondaryButtonClick,c=e.secondaryButtonLabel,o=e.configuration,i=e.loading,u=e.submitLabel,l=(e.hidePreloader,e.onSubmit),s=Object(f.a)(e,["successContent","onSecondaryButtonClick","secondaryButtonLabel","configuration","loading","submitLabel","hidePreloader","onSubmit"]),d=o.title,m=o.initialValues,p=o.direction,b=o.groups,h=o.validationSchema,v=Object(a.useState)(!1),g=Object(E.a)(v,2),y=g[0],O=g[1],j=!!t&&"function"===typeof t,w=function(){O(!0)},S=function(e){O(!1)},C=function(){O(!1),j&&t()};return y?n||r.a.createElement("div",null,"Success"):r.a.createElement(rt.a,{initialValues:m,validationSchema:h,onSubmit:function(e){if(l)return l({values:e,onSuccess:w,onError:S})}},(function(e){var n=e.handleSubmit,t=e.handleChange,a=e.handleBlur,l=e.values,m=e.errors,h=e.touched;return r.a.createElement(Et,null,i&&!o.hidePreloader&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{color:"secondary"}),r.a.createElement(gt,null)),r.a.createElement(yt,Object.assign({flexDirection:o.flexDirection,onSubmit:n},s),Boolean(d)&&r.a.createElement("div",null,r.a.createElement("h2",null,d)),r.a.createElement(vt,{direction:p},b.map((function(e,n){e.title;var c=e.inputs;return r.a.createElement(ht,{key:n,direction:p},c.map((function(e){var n=e.name,o=e.component,u=e.required,s=e.options,d=e.label,p=e.hide,b=Object(f.a)(e,["name","component","required","options","label","hide"]),v=o;return d=function(e){var n=e.label,t=e.name,a=e.required?"":" (Optional)";return Boolean(n)?"".concat(n).concat(a):Boolean(t)?"".concat(t).concat(a):null}({label:it[d],name:n,required:u}),!p&&r.a.createElement(v,Object.assign({key:n,id:n,name:n,value:l[n],error:h[n]&&Boolean(m[n]),helperText:h[n]?m[n]:null,onChange:t,onBlur:a,options:s,label:d,fullWidth:1===c.length,style:{margin:"0.5rem"},disabled:i},b))})))}))),r.a.createElement(ht,{style:{padding:"0.5rem"}},r.a.createElement(at,{type:"submit",disabled:i}," ",u||"Submit"),j&&r.a.createElement(at,{onClick:C,disabled:i},c||"Cancel"))))}))},jt={initialValues:(bt={},Object(v.a)(bt,ot,""),Object(v.a)(bt,"firstName",""),Object(v.a)(bt,"lastName",""),Object(v.a)(bt,"password",""),Object(v.a)(bt,"retypePassword",""),bt),title:"Sign Up",hidePreloader:!1,flexDirection:"column",validationSchema:ut,sendForm:function(e){return new Promise((function(e){setTimeout((function(){e({error:!1})}),3e3)}))},groups:[{inputs:[{name:ot,component:V,type:"email",required:!0}]},{inputs:[{name:"firstName",component:V},{name:"lastName",component:V}]},{inputs:[{name:"password",component:V,required:!0,type:"password"}]},{inputs:[{name:"retypePassword",component:V,required:!0,type:"password"}]}]};function wt(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return wt=function(){return e},e}var St=u.b.div(wt()),Ct=function(e){var n=e.mode,t=e.onCancel,c=Object(p.h)(),o=Object(p.g)(),i=Object(F.b)(),u=Object(F.c)(tn),l=Object(F.c)(rn),s=Object(F.c)(Jn),d=l||s,m="onBehave"===n;m&&(jt.title="User Creation"),Object(a.useEffect)((function(){u&&"/signup"===c.pathname&&o.push("/")}),[u,c.pathname,o]);return r.a.createElement(St,null,r.a.createElement(Ot,{configuration:jt,loading:d,onSubmit:function(e){var n=e.values,a=(e.onSuccess,e.onError,n.email),r=n.password,c=n.retypePassword,o=n.firstName,u=n.lastName;i(m?function(e,n){return function(t){var a;return me.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:mn}),r.prev=1,r.next=4,me.a.awrap(ln.create(e));case 4:a=r.sent,t({type:fn,payload:a.data}),t(Te({message:"".concat(a.data.username," is created successfully")})),n&&n(),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(1),t({type:pn}),t(Te(r.t0));case 14:case"end":return r.stop()}}),null,null,[[1,10]])}}({username:a,password:r,retypePassword:c,firstName:o,lastName:u},t):function(e,n,t,a,r){return function(c){var o;return me.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return c({type:Tn}),i.prev=1,i.next=4,me.a.awrap(kn.signUp(e,n,t,a,r));case 4:o=i.sent,c({type:Pn,payload:o.data}),i.next=12;break;case 8:i.prev=8,i.t0=i.catch(1),c({type:_n}),c(Te(i.t0));case 12:case"end":return i.stop()}}),null,null,[[1,8]])}}(a,r,c,o,u))},onSecondaryButtonClick:function(){t?t():o.push("/")}}))};function kt(){var e=Object(i.a)(["\n  button {\n    margin-top: -5rem;\n    margin-right: 0.5rem;\n  }\n"]);return kt=function(){return e},e}function xt(){var e=Object(i.a)(["\n  width: 100%;\n  height: 75vh;\n  margin-top: 1rem;\n  .ag-cell-focus {\n    border: none !important;\n  }\n  .ag-icon {\n    color: "," !important;\n  }\n  .ag-theme-material {\n    color: "," !important;\n  }\n"]);return xt=function(){return e},e}function Rt(){var e=Object(i.a)([""]);return Rt=function(){return e},e}var Nt=u.b.div(Rt()),Tt=u.b.div(xt(),(function(e){return e.theme.palette.secondary.main}),(function(e){return e.theme.palette.secondary.main})),Pt=u.b.div(kt()),_t=function(){var e=Object(a.useState)(null),n=Object(E.a)(e,2),t=n[0],c=n[1],o=Object(F.b)(),i=Xe().width,u=Object(F.c)(Wn),l=Object(a.useState)(!1),s=Object(E.a)(l,2),d=s[0],m=s[1],f=Object(F.c)(Qn);Object(a.useEffect)((function(){f&&o(gn())}),[f,o]),Object(a.useEffect)((function(){return o(Te({message:"Pressing delete will affect selected rows"})),function(){return o(Te({message:"Don't forget to logout"}))}}),[o]),Object(a.useEffect)((function(){var e=function(e){var n,a=e.key;if(t&&"Delete"===a){var r=t.getSelectedRows();0===r.length?o(Te({message:"Pressing delete will affect selected rows"})):o((n=r.map((function(e){return e.username})),function(e){var t;return me.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:"DELETE_USERS_REQUEST"}),a.prev=1,a.next=4,me.a.awrap(ln.delete(n));case 4:t=a.sent,e({type:hn,payload:n}),e(Te({message:"".concat(t.data.deletedCount," deleted users successfully")})),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),e({type:"FETCH_USERS_ERROR"}),e(Te(a.t0));case 13:case"end":return a.stop()}}),null,null,[[1,9]])}))}};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[t,o]),Object(a.useEffect)((function(){t&&t.sizeColumnsToFit()}),[t,u]);var p=[{headerName:"#",width:45,checkboxSelection:!0,editable:!1,sortable:!1,filter:!1,pinned:!0},{headerName:"Id",field:"_id",hide:!0,sortable:!1,editable:!1},{headerName:"Username",field:"username",editable:!1},{headerName:"First Name",field:"firstName"},{headerName:"Last Name",field:"lastName"},{headerName:"Password",field:"password",cellRenderer:"PasswordCellFormatter"},{headerName:"Last Login",field:"lastLogin",editable:!1,cellRenderer:"DateCellFormatter"},{headerName:"",cellRenderer:"DeleteCellRenderer",cellRendererParams:{onClick:function(e){var n=e.username;o(Te({message:r.a.createElement("div",null,"Delete ".concat(n,"? "),r.a.createElement(K.a,{color:"secondary",onClick:function(){o(function(e){return function(n){return me.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"DELETE_ONE_USER_REQUEST"}),t.prev=1,t.next=4,me.a.awrap(ln.deleteOne(e));case 4:n({type:bn,payload:e}),n(Te({message:"".concat(e," is deleted successfully")})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:"DELETE_ONE_USER_ERROR"}),n(Te(t.t0));case 12:case"end":return t.stop()}}),null,null,[[1,8]])}}(n))}},"yes"))}))}},width:80}],b=function(){m(!1)};return Object(a.useEffect)((function(){t&&t.sizeColumnsToFit()}),[i,t]),r.a.createElement(Nt,null,r.a.createElement(Pt,null,r.a.createElement(Je,{to:"/listing",icon:r.a.createElement(qn.a,null)}),r.a.createElement(Je,{style:{marginLeft:"10px"},icon:r.a.createElement(In.a,null),onClick:function(){m(!0)}})),r.a.createElement(Tt,{className:"ag-theme-material"},r.a.createElement(g.AgGridReact,{onGridReady:function(e){var n=e.api;n.sizeColumnsToFit(),c(n)},suppressRowClickSelection:!0,animateRows:!0,rowData:u,rowSelection:"multiple",columnDefs:p,defaultColDef:{resizable:!0,sortable:!0,filter:!0,editable:!0},frameworkComponents:{DeleteCellRenderer:Yn,PasswordCellFormatter:Vn,DateCellFormatter:Kn},modules:y.a,onCellEditingStopped:function(e){var n,t,a=e.column,r=e.data;o((n=r.username,t=Object(v.a)({},a.colId,r[a.colId]),function(e){var a;return me.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e({type:"UPDATE_USER_REQUEST"}),r.prev=1,r.next=4,me.a.awrap(ln.update(n,t));case 4:a=r.sent,e({type:dn,payload:a.data}),e(Te({message:"".concat(n," is updated successfully")})),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),e({type:"UPDATE_USER_ERROR"}),e(Te(r.t0));case 13:case"end":return r.stop()}}),null,null,[[1,9]])}))}})),r.a.createElement(ue,{open:d,onDialogClose:b},r.a.createElement(Ct,{mode:"onBehave",onCancel:b})))},Ut=function(){return r.a.createElement("div",null,"404")};function Dt(){return(Dt=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function Lt(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var zt=r.a.createElement("path",{d:"M 9 3 L 9 14.625 C 9 14.625 6.16425 12.71875 5.65625 12.71875 C 4.34625 12.71875 4 14.09375 4 14.09375 L 9.03125 20.71875 C 9.63625 21.51675 10.59375 22 11.59375 22 L 16 22 C 18.209 22 20 20.209 20 18 L 20 5 L 18 5 L 18 12 C 18 13.105 17.105 14 16 14 C 15.399 14 14.867 13.7325 14.5 13.3125 C 14.133 13.7325 13.601 14 13 14 C 11.895 14 11 13.105 11 12 L 11 3 L 9 3 z M 12 8 L 12 12 C 12 12.552 12.448 13 13 13 C 13.552 13 14 12.552 14 12 L 14 8 L 12 8 z M 15 8 L 15 12 C 15 12.552 15.448 13 16 13 C 16.552 13 17 12.552 17 12 L 17 8 L 15 8 z"}),Ft=function(e){var n=e.svgRef,t=e.title,a=Lt(e,["svgRef","title"]);return r.a.createElement("svg",Dt({viewBox:"0 0 24 24",ref:n},a),t?r.a.createElement("title",null,t):null,zt)},Mt=r.a.forwardRef((function(e,n){return r.a.createElement(Ft,Dt({svgRef:n},e))}));t.p;function Bt(){var e=Object(i.a)(["\n  .box {\n    align-self: flex-end;\n    animation-duration: 2s;\n    animation-iteration-count: infinite;\n    height: ","rem;\n    margin: 0 auto 0 auto;\n    transform-origin: bottom;\n    fill: ",";\n  }\n  .bounce-7 {\n    animation-name: bounce-7;\n    animation-timing-function: cubic-bezier(0.28, 0.84, 0.42, 1);\n  }\n  @keyframes bounce-7 {\n    0% {\n      transform: scale(1, 1) translateY(0);\n    }\n    10% {\n      transform: scale(1.1, 0.9) translateY(0);\n    }\n    30% {\n      transform: scale(0.9, 1.1) translateY(-100px);\n    }\n    50% {\n      transform: scale(1.05, 0.95) translateY(0);\n    }\n    57% {\n      transform: scale(1, 1) translateY(-7px);\n    }\n    64% {\n      transform: scale(1, 1) translateY(0);\n    }\n    100% {\n      transform: scale(1, 1) translateY(0);\n    }\n  }\n"]);return Bt=function(){return e},e}var At,qt=u.b.div(Bt(),(function(e){return e.size||10}),(function(e){return e.theme.palette.secondary.main})),It=function(e){var n=e.size;return r.a.createElement(Qe.a,{handle:".handle",defaultPosition:{x:0,y:0},scale:4},r.a.createElement(qt,{className:"handle",size:n},r.a.createElement(Mt,{className:"box bounce-7"})))},Gt={initialValues:(At={},Object(v.a)(At,ot,""),Object(v.a)(At,"password",""),At),flexDirection:"column",hidePreloader:!1,validationSchema:lt,sendForm:function(e){var n=e.email,t=e.password;return kn.login({username:n,password:t})},groups:[{title:"",inputs:[{name:ot,component:V,type:"email",required:!0},{name:"password",component:V,required:!0,type:"password"}]}]};function Ht(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return Ht=function(){return e},e}var Yt=u.b.div(Ht()),Vt=function(){var e=Object(p.h)(),n=Object(p.g)(),t=Object(F.b)(),c=Object(F.c)(tn),o=Object(F.c)(rn);Object(a.useEffect)((function(){c&&"/login"===e.pathname&&n.push("/")}),[c,e.pathname,n]);return r.a.createElement(Yt,null,r.a.createElement(Yt,null,r.a.createElement(It,{size:15}),r.a.createElement(Ot,{onSubmit:function(e){var n=e.values,a=(e.onSuccess,e.onError,n.email),r=n.password;t(function(e,n){return function(t){var a;return me.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:xn}),r.prev=1,r.next=4,me.a.awrap(kn.login(e,n));case 4:a=r.sent,t({type:Rn,payload:a.data}),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(1),t({type:Nn}),t(Te(r.t0));case 12:case"end":return r.stop()}}),null,null,[[1,8]])}}(a,r))},secondaryButtonLabel:"Sign Up",configuration:Gt,submitLabel:"Login",loading:o,onSecondaryButtonClick:function(){n.push("/signup")}})))},Kt=function(e){return"signup"===e.mode?r.a.createElement(Ct,null):r.a.createElement(Vt,null)},Wt=function(e){var n=e.isAuthenticated,t=(e.children,Object(f.a)(e,["isAuthenticated","children"]));return n?r.a.createElement(p.b,t):r.a.createElement(p.a,{to:"/login"})},Qt=function(){var e=Object(F.c)(tn),n=[{url:"/users",component:_t,isPrivate:!0},{url:"/login",component:function(){return r.a.createElement(Kt,{mode:"login"})},isPrivate:!1},{url:"/signup",component:function(){return r.a.createElement(Kt,{mode:"signup"})},isPrivate:!1},{url:"/",component:An,isPrivate:!0},{url:"*",components:Ut,isPrivate:!1}];return r.a.createElement(b.a,null,r.a.createElement(p.d,null,n.map((function(n){var t=n.url,a=n.component;return n.isPrivate?r.a.createElement(Wt,{key:t,isAuthenticated:e,path:t,component:a}):r.a.createElement(p.b,{key:t,path:t,component:a})}))))},Jt=t(607),Xt=function(e){return e.ui.snackbar};function $t(){var e=Object(i.a)(["\n  width: 80vw;\n"]);return $t=function(){return e},e}function Zt(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin: auto;\n  min-height: 100vh;\n  ",";\n  color: ",";\n"]);return Zt=function(){return e},e}var ea=u.b.div(Zt(),(function(e){return"dark"===e.theme.palette.type?"\n      background-color: #2d3436;\n      background-image: linear-gradient(315deg, #2d3436 25%, #000000 100%);\n  ":null}),(function(e){return e.theme.palette.primary.text})),na=u.b.div($t()),ta=function(){var e=Object(F.b)(),n=Object(F.c)(Xt);return r.a.createElement(m.b,{injectFirst:!0},r.a.createElement(d.a,{theme:s},r.a.createElement(u.a,{theme:s},r.a.createElement(ea,null,r.a.createElement(na,null,r.a.createElement(Qt,null)),r.a.createElement(Jt.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:!!n.open,autoHideDuration:n.duration,onClose:function(){return e({type:Ne})},ContentProps:{"aria-describedby":"message-id"},message:n.message})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var aa=t(80),ra={snackbar:{open:!1,message:"",duration:2e3}};var ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra,n=arguments.length>1?arguments[1]:void 0,t=n.type,a=Object(f.a)(n,["type"]);switch(t){case Re:return Object(h.a)({},e,{snackbar:Object(h.a)({},e.snackbar,{},a,{open:!0})});case Ne:return Object(h.a)({},e,{snackbar:Object(h.a)({},e.snackbar,{open:!1})});default:return e}},oa={token:null,pending:!1,profile:null};var ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oa,n=arguments.length>1?arguments[1]:void 0,t=n.type,a=n.payload;switch(t){case xn:case Tn:return Object(h.a)({},e,{pending:!0});case Nn:case Rn:case Pn:case _n:return Object(h.a)({},e,{},a,{pending:!1});case Un:return Object(h.a)({},oa);default:return e}},ua={ids:[],map:{},pending:!1};var la=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua,n=arguments.length>1?arguments[1]:void 0,t=n.type,a=n.payload,r=e.ids,c=e.map;switch(t){case En:return c[a.username].topSearches=a.topSearches,Object(h.a)({},e,{map:c,ids:r});case vn:return-1===r.findIndex((function(e){return e===a.username}))&&r.push(a.username),c[a.username]=a,Object(h.a)({},e,{ids:r,map:c});case dn:return-1===r.findIndex((function(e){return e===a.username}))&&r.push(a.username),console.log(a),c[a.username]=a,{ids:r,map:c};case fn:return r.push(a.username),c[a.username]=a,Object(h.a)({},e,{ids:r,map:c,pending:!1});case mn:return Object(h.a)({},e,{ids:r,map:c,pending:!0});case pn:return Object(h.a)({},e,{pending:!1});case hn:return r=r.filter((function(e){return-1===a.findIndex((function(n){return e===n}))})),c=r.reduce((function(e,n){return e[n]=c[n],e}),{}),Object(h.a)({},e,{ids:r,map:c});case bn:return delete c[a],r=r.filter((function(e){return e!==a})),Object(h.a)({},e,{ids:r,map:c});case sn:return Object(h.a)({},e,{ids:a.rows.map((function(e){return e.username})),map:a.rows.reduce((function(e,n){return e[n.username]=n,e}),{})});default:return e}},sa={selectedMedia:{previewUrl:"http://www.anyvision.co/admin/wp-content/uploads/2018/02/4.mp4",kind:"feature-movie",trackName:"AnyVision"}};var da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa,n=arguments.length>1?arguments[1]:void 0,t=n.type,a=n.payload;switch(t){case M:return Object(h.a)({},e,{selectedMedia:a});default:return e}},ma=Object(aa.combineReducers)({ui:ca,auth:ia,user:la,player:da}),fa=t(343),pa=t(344),ba=Object(aa.createStore)(ma,Object(pa.composeWithDevTools)(Object(aa.applyMiddleware)(fa.a)));t(541),t(542);o.a.render(r.a.createElement(F.a,{store:ba},r.a.createElement(ta,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[360,1,2]]]);
//# sourceMappingURL=main.4e6e9ca7.chunk.js.map